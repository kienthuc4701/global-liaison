---
import fetchApi from "@/lib/strapi";
import Markdown from '@astrojs/markdown-component';
import BaseLayout from "@/layouts/BaseLayout.astro";

export async function getStaticPaths() {
  const articles = await fetchApi<any>({
    endpoint: "recruitment-posts",
    wrappedByKey: "data",
  });
  return articles.map((article) => ({
    params: { slug: article.attributes.slug },
    props: article,
  }));
}
const article = Astro.props;
---
<BaseLayout pageTitle={article.attributes.title}>
  <Markdown>
    {article.attributes.content}
  </Markdown>
</BaseLayout>
